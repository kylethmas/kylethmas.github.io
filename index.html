<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kyle E Thomas – AI Technical Analyst & Software Engineer</title>
  <link rel="icon" href="img/icon.png" type="image/png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <header class="site-header">
    <div class="container nav-container">
      <a href="#" class="logo">Kyle E Thomas</a>

      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>

          <nav class="nav">
            <ul>
              <li><a href="#ai">AI</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#experience">Experience</a></li>
              <li><a href="#volunteering">Volunteering</a></li>
              <li><a href="#projects">Projects</a></li>
              <li><a href="#skills">Skills</a></li>
              <li><a href="#beyond">Beyond Tech</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </nav>
        </div>
  </header>

  <!-- HERO -->
  <main>
    <section class="hero" id="top">
      <div class="container hero-inner">
        <div class="hero-text">
          <p class="eyebrow">AI Automation, Cloud Microservices & Governance</p>
          <h1>Hi, I'm Kyle.</h1>
          <p class="hero-subtitle">
            AI Technical Analyst and Software Engineer focused on <strong>safe, auditable AI agents</strong>,
            <strong>Kubernetes microservices</strong>, and <strong>cost-optimised cloud platforms</strong>.
            I design measurable automations, bake in observability and governance from day one, and deliver
            AI-backed services that reduce operational risk and cost.
          </p>

          <div class="hero-actions">
            <a href="#projects" class="btn primary">View featured projects</a>
            <button type="button" class="btn ghost" id="cv-builder-trigger">Create tailored CV</button>
          </div>

          <div class="hero-meta">
            <div class="pill">AI agents • Kubernetes • Clean Architecture</div>
            <div class="pill">Governance & risk • Observability • CI/CD</div>
          </div>

          <div class="social-links">
            <a href="https://github.com/kylethmas" aria-label="GitHub">
              <img src="img/github.png" alt="GitHub logo">
            </a>
            <a href="https://www.linkedin.com/in/kyleedwardthomas/" aria-label="LinkedIn">
              <img src="img/linkedin.png" alt="LinkedIn logo">
            </a>
            <a href="https://www.hackerrank.com/kt2548971" aria-label="HackerRank">
              <img src="img/hrank.png" alt="HackerRank logo">
            </a>
            <a href="mailto:kyle2010thomas@gmail.com" aria-label="Email">
              <img src="img/email.png" alt="Email icon">
            </a>
          </div>
        </div>

        <div class="hero-panel">
          <div class="card terminal-card">
            <div class="terminal-header">
              <span class="dot red"></span>
              <span class="dot amber"></span>
              <span class="dot green"></span>
              <span class="terminal-title">kyle@portfolio:~</span>
            </div>
            <div class="terminal-body">
              <p><span class="prompt">$</span> kubectl get engineer kyle -o yaml</p>
              <p><span class="prompt">➜</span> role: <span class="accent">ai-technical-analyst</span></p>
              <p><span class="prompt">➜</span> focus: <span class="accent">ai automation, cloud, governance</span></p>
              <p><span class="prompt">➜</span> current_company: <span class="accent">BlackRock</span></p>
              <p><span class="prompt">➜</span> location: <span class="accent">Edinburgh, UK</span></p>
              <p><span class="prompt">➜</span> mission: <span class="accent success">safe, auditable ai</span></p>
            </div>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
            <div class="stat-number">7%</div>
            <p class="stat-label">BAU time saved through AI automations</p>
          </div>
          <div class="stat-card">
            <div class="stat-number">76%</div>
            <p class="stat-label">Lower CPU usage in operator research</p>
          </div>
          <div class="stat-card">
            <div class="stat-number">500+</div>
            <p class="stat-label">Users on incentive web app I built</p>
          </div>
          <div class="stat-card">
            <div class="stat-number">1k+</div>
            <p class="stat-label">Students reached via workshops & outreach</p>
          </div>
          </div>
        </div>
      </div>
    </section>



    <!-- AI SECTION -->
    <section class="section alt" id="ai">
      <div class="container">
        <div class="section-heading">
          <h2>AI-first Portfolio</h2>
          <p>Ask the chatbot about my CV or explore how I’m applying AI in regulated, cloud-first environments.</p>
        </div>

        <div class="ai-grid">
          <div class="card ai-card">
            <div class="ai-card-header">
              <div>
                <p class="eyebrow">New</p>
                <h3>CV Copilot</h3>
                <p class="text-muted">Interactive chatbot grounded in my CV, skills, and recent AI work.</p>
              </div>
              <div class="pill">Local knowledge base</div>
            </div>

            <div class="chat-window" aria-live="polite">
              <div class="chat-message bot">
                <div class="chat-meta">AI Copilot</div>
                <p>Ask me about my experience, projects, or how I use AI. I’ll reply using highlights from my CV.</p>
              </div>
            </div>

            <form class="chat-input" aria-label="Ask the CV Copilot a question">
              <input type="text" name="question" placeholder="e.g. How have you used machine learning?" autocomplete="off" required />
              <button type="submit" class="btn primary">Ask</button>
            </form>

            <div class="prompt-row" aria-label="Suggested prompts">
              <button type="button" class="prompt-chip" data-prompt="How are you applying AI in your work?">AI in my work</button>
              <button type="button" class="prompt-chip" data-prompt="What projects show your machine learning experience?">ML projects</button>
              <button type="button" class="prompt-chip" data-prompt="Tell me about your Kubernetes operator research">Kubernetes research</button>
              <button type="button" class="prompt-chip" data-prompt="Summarise your cloud and DevOps skills">Cloud & DevOps</button>
            </div>
          </div>

          <div class="card ai-card ai-highlights">
            <h3>How I use AI today</h3>
            <ul class="bullet-list">
              <li>Designing safe, auditable AI agents that automate BAU processes and cut manual effort.</li>
              <li>Building AI solutions on cloud-native platforms with observability and governance baked in.</li>
              <li>Measuring impact with metrics like time saved, performance and cost efficiency.</li>
              <li>Partnering with schools and universities to demystify AI careers and skills.</li>
            </ul>

            <div class="ai-pill-grid">
              <span class="tag">AI agents</span>
              <span class="tag">Kubernetes</span>
              <span class="tag">Observability</span>
              <span class="tag">Governance</span>
              <span class="tag">Impact metrics</span>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- ABOUT -->
    <section class="section" id="about">
      <div class="container">
        <div class="section-heading">
          <h2>About</h2>
          <p>A quick snapshot of who I am and how I work.</p>
        </div>

        <div class="split">
          <div>
            <p>
              I’m an AI Technical Analyst at BlackRock and an MSci Software Engineering graduate from the University of Glasgow
              (First Class). I design AI automations and cloud-native services that are observable, auditable and aligned with
              governance requirements.
            </p>
            <p>
              I enjoy turning vague requirements into production-ready systems with clear APIs, measurable impact and
              a strong focus on developer experience.
            </p>
          </div>
          <div>
            <ul class="about-list">
              <li><strong>Key expertise:</strong> AI and automation in regulated environments, governance-aware cloud
                architecture, and cost optimisation.</li>
              <li><strong>Master’s project:</strong> Signal-based Kubernetes monitoring achieving up to 76% lower CPU and 46%
                lower memory usage at scale.</li>
              <li><strong>Leadership & outreach:</strong> Workshop host, mentor and Directeur Sportif leading international
                cycling teams.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section class="section" id="experience">
      <div class="container">
        <div class="section-heading">
          <h2>Experience</h2>
          <p>Recent roles where I’ve built and shipped real systems.</p>
        </div>

        <div class="timeline">
          <article class="timeline-item">
            <span class="timeline-dot"></span>
            <div class="timeline-content">
              <h3>AI Technical Analyst – BlackRock</h3>
              <p class="meta">2025 – Present · Edinburgh</p>
              <p>
                Design and implement AI agents and workflow automations that streamline business-as-usual tasks,
                currently reducing time spent on core processes by ~7% while aligning with governance, risk and
                control requirements.
              </p>
              <ul class="bullet-list">
                <li>Build cloud-native AI solutions that are observable, explainable and auditable.</li>
                <li>Prioritise automation opportunities with operations, technology and risk stakeholders.</li>
                <li>Create partnerships with schools and universities to deliver CV and interview skills workshops.</li>
              </ul>
              <div class="tag-row">
                <span class="tag">AI automation</span><span class="tag">Cloud</span><span class="tag">Governance</span>
                <span class="tag">Observability</span><span class="tag">Stakeholder engagement</span>
              </div>
            </div>
          </article>

          <article class="timeline-item">
            <span class="timeline-dot"></span>
            <div class="timeline-content">
              <h3>Cloud Software Engineer – Hewlett Packard Enterprise</h3>
              <p class="meta">2023 – 2025 · Bristol</p>
              <p>
                Developed a cloud-native software distribution microservice in Go with Clean Architecture, exposing REST and gRPC
                APIs on Kubernetes for enterprise customers and internal services, with a focus on cost-efficient operations.
              </p>
              <ul class="bullet-list">
                <li>Consolidated supervision and monitoring to reduce CPU and memory overheads at scale.</li>
                <li>Led small cross-functional teams from requirements through production with strong stakeholder engagement.</li>
                <li>Built a React + Firebase incentive web app for 500+ channel partners with excellent usability feedback.</li>
                <li>Hosted an Executive Q&amp;A series and delivered global web development workshops.</li>
              </ul>
              <div class="tag-row">
                <span class="tag">Go</span><span class="tag">Kubernetes</span><span class="tag">gRPC</span>
                <span class="tag">React</span><span class="tag">Firebase</span><span class="tag">Cost optimisation</span>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>
    <!-- VOLUNTEERING -->
    <section class="section alt" id="volunteering">
      <div class="container">
        <div class="section-heading">
          <h2>Volunteering & Community</h2>
          <p>Giving back through mentoring, outreach and sport leadership.</p>
        </div>

        <div class="split">
          <div>
            <h3>Career Ready – Volunteer Mentor</h3>
            <p class="meta">2024 – Present</p>
            <p>
              Mentor a senior school pupil through confidence, goal-setting and career choices, providing practical guidance on
              CVs, interview skills and networking with a focus on widening access to professional careers.
            </p>
          </div>
          <div>
            <h3>Directeur Sportif – Scottish Cycling Team</h3>
            <p class="meta">2023 – Present</p>
            <p>
              Lead sporting strategy, race tactics and logistics for an international Scottish cycling squad, balancing
              performance, safety and wellbeing while creating meaningful opportunities for sponsors and partners.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section class="section alt" id="projects">
      <div class="container">
        <div class="section-heading">
          <h2>Featured Projects</h2>
          <p>A mix of academic, hackathon and real-world projects.</p>
        </div>

        <div class="grid projects-grid">
          <article class="card project-card">
            <h3>Signal-based Container Monitoring</h3>
            <p class="meta">MSci Project · Kubernetes Operator</p>
            <p>
              Built a signal-based monitoring approach that consolidates supervision into a single operator,
              reducing failure-detection latency and compute overhead in containerised microservices. Achieved up to
              <strong>76% lower CPU usage</strong> and <strong>46% reduced memory footprint</strong> at scale.
            </p>
            <ul class="pill-list">
              <li>Kubernetes</li><li>Go</li><li>Operators</li><li>Monitoring</li>
            </ul>
          </article>

          <article class="card project-card">
            <h3>Extreme Startup DevOps Platform</h3>
            <p class="meta">Java 17 · Spring Boot · CI/CD</p>
            <p>
              Implemented a microservice handling real-time quiz interactions with a multi-module architecture and
              embedded Tomcat. Deployed via GitLab CI/CD, with environment-specific configs, zero-downtime updates,
              and Spring Actuator for health and metrics.
            </p>
            <ul class="pill-list">
              <li>Java 17</li><li>Spring Boot</li><li>GitLab CI</li><li>Linux automation</li>
            </ul>
          </article>

          <article class="card project-card">
            <h3>Investment Trading Bot</h3>
            <p class="meta">Python · ML & Backtesting</p>
            <p>
              Built a trading bot using Yahoo Finance data, Bollinger Bands, RSI, momentum, mean reversion and linear
              regression. Included a backtesting module to evaluate strategies against historical data.
            </p>
            <ul class="pill-list">
              <li>Python</li><li>Pandas</li><li>Scikit-learn</li><li>Matplotlib</li>
            </ul>
          </article>

          <article class="card project-card">
            <h3>CENSIS Activity Monitor</h3>
            <p class="meta">C++ Firmware · Python ML</p>
            <p>
              Developed a noise-processing system for independent living facilities, combining C++ firmware with
              Python-based ML and Agile delivery practices (sprints, customer meetings, retrospectives).
            </p>
            <ul class="pill-list">
              <li>C++</li><li>Python</li><li>Embedded</li><li>Agile</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- SKILLS -->
    <section class="section" id="skills">
      <div class="container">
        <div class="section-heading">
          <h2>Technical Skills</h2>
          <p>What I’m comfortable using day-to-day.</p>
        </div>

        <div class="skills-layout">
          <div class="card skills-card">
            <h3>Languages & Frameworks</h3>
            <div class="chip-grid">
              <span class="chip">Java</span>
              <span class="chip">Go</span>
              <span class="chip">Python</span>
              <span class="chip">TypeScript</span>
              <span class="chip">Spring</span>
              <span class="chip">React</span>
              <span class="chip">SQL</span>
            </div>
          </div>

          <div class="card skills-card">
            <h3>Cloud & DevOps</h3>
            <div class="chip-grid">
              <span class="chip">Kubernetes</span>
              <span class="chip">Docker</span>
              <span class="chip">Terraform</span>
              <span class="chip">CI/CD</span>
              <span class="chip">AWS</span>
              <span class="chip">Firebase</span>
              <span class="chip">Linux</span>
            </div>
          </div>

          <div class="card skills-card">
            <h3>Observability & Analytics</h3>
            <div class="chip-grid">
              <span class="chip">Grafana</span>
              <span class="chip">Prometheus</span>
              <span class="chip">Humio</span>
              <span class="chip">Google Analytics</span>
              <span class="chip">SEO</span>
            </div>
          </div>

          <div class="card skills-card">
            <h3>Ways of Working</h3>
            <div class="chip-grid">
              <span class="chip">Clean Architecture</span>
              <span class="chip">Agile / Scrum</span>
              <span class="chip">Mentoring</span>
              <span class="chip">Workshops</span>
              <span class="chip">Public speaking</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- BEYOND TECH -->
    <section class="section alt" id="beyond">
      <div class="container">
        <div class="section-heading">
          <h2>Beyond Tech</h2>
          <p>What keeps me curious, competitive and balanced.</p>
        </div>

        <div class="split">
          <div>
            <p>
              Outside of engineering, I’m Directeur Sportif for an international Scottish cycling team, leading race
              strategy, logistics and athlete wellbeing. I stay active through competitive cycling and running, and I
              enjoy giving back through community initiatives and fundraising.
            </p>
          </div>
          <div>
            <ul class="about-list">
              <li>Competitive cycling & running (BUCS, marathons)</li>
              <li>Community & charity initiatives</li>
              <li>Early-career mentorship and peer development</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="section" id="contact">
      <div class="container">
        <div class="section-heading">
          <h2>Contact</h2>
          <p>Interested in working together or just want to chat?</p>
        </div>

        <div class="contact-panel">
          <p>
            The best way to reach me is by email or LinkedIn. I’m always happy to talk about AI automation in
            regulated environments, cloud infrastructure, or interesting technical challenges.
          </p>
          <div class="contact-actions">
            <a href="mailto:kyle2010thomas@gmail.com" class="btn primary">Email me</a>
            <a href="https://www.linkedin.com/in/kyleedwardthomas/" class="btn ghost" target="_blank" rel="noopener">
              Connect on LinkedIn
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© <span id="year"></span> Kyle E Thomas · Built with HTML, CSS & a bit of JS</p>
    </div>
  </footer>

  <div class="modal-overlay" id="cv-modal" aria-hidden="true" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="cv-modal-title">
      <div class="modal-header">
        <div>
          <p class="eyebrow">CV workflow</p>
          <h3 id="cv-modal-title">Generate a tailored CV</h3>
          <p class="text-muted">Share the role and responsibilities and I’ll assemble a CV with matching keywords and the most relevant experience.</p>
        </div>
        <button type="button" class="icon-button" id="cv-modal-close" aria-label="Close CV builder">×</button>
      </div>

      <form class="cv-form" id="cv-builder-form">
        <label class="form-field">
          <span class="form-label">Target role title</span>
          <input type="text" name="role" placeholder="e.g. AI Technical Analyst" required />
        </label>

        <label class="form-field">
          <span class="form-label">Job description or responsibilities</span>
          <textarea name="details" rows="4" placeholder="Paste the key requirements, team focus, and priority skills." required></textarea>
          <span class="helper-text">Tip: include keywords like cloud, Kubernetes, AI governance, or metrics to guide the tailoring.</span>
        </label>

        <div class="form-actions">
          <button type="button" class="btn ghost" id="cv-modal-cancel">Cancel</button>
          <button type="submit" class="btn primary">Generate & download CV</button>
        </div>

        <p class="status" id="cv-builder-status" role="status" aria-live="polite"></p>
      </form>
    </div>
  </div>

  <script>
    const cvProfile =
      'AI Technical Analyst and Software Engineer who builds AI automations, cloud-native services, and governance-first pipelines with measurable impact.';

    const coreSkills = [
      'AI agents and workflow automation with observability and control gates',
      'Kubernetes microservices (Go/Java), REST & gRPC APIs, Terraform, Docker',
      'Cloud governance, risk alignment, and audit-ready delivery practices',
      'Cost optimisation, performance tuning, and impact measurement',
      'Stakeholder collaboration, clear documentation, and workshop facilitation'
    ];

    const cvExperiences = [
      {
        role: 'AI Technical Analyst — BlackRock',
        period: '2023 — Present',
        focus: 'AI automation, governance, risk, and cloud delivery',
        keywords: ['ai', 'automation', 'governance', 'control', 'cloud', 'workflow', 'risk', 'observability'],
        highlights: [
          'Designed AI agents that automated BAU workflows and reduced manual handling time by ~7% with approval gates and audit trails.',
          'Embedded governance controls, monitoring, and dashboards so AI usage remains explainable, measurable, and compliant.',
          'Partnered with stakeholders to prioritise reliable AI use cases and deliver repeatable playbooks.'
        ]
      },
      {
        role: 'Software Engineering Intern — Hewlett Packard Enterprise',
        period: '2022',
        focus: 'Cloud microservices, Go, and full-stack delivery',
        keywords: ['go', 'kubernetes', 'microservice', 'grpc', 'rest', 'cloud', 'react', 'firebase', 'cost'],
        highlights: [
          'Built a Go microservice with Clean Architecture, REST and gRPC interfaces, and Kubernetes deployment focused on cost efficiency.',
          'Delivered a React + Firebase incentive web app for 500+ partners and automated reporting for executive programmes.',
          'Tuned performance and resource usage, achieving CPU and memory savings through signal-based supervision.'
        ]
      },
      {
        role: 'MSci Software Engineering — University of Glasgow',
        period: '2018 — 2023',
        focus: 'Applied research and systems engineering',
        keywords: ['kubernetes', 'monitoring', 'research', 'engineering', 'observability'],
        highlights: [
          'Researched a signal-based Kubernetes monitoring operator that consolidated supervision and cut compute overheads by up to 76% CPU.',
          'Delivered team projects with clear APIs, testing strategies, and documentation.',
          'Graduated with First Class honours after completing an industry-focused Masters project.'
        ]
      }
    ];

    const educationEntries = [
      'MSci Software Engineering (First Class), University of Glasgow',
      'AI, cloud engineering, distributed systems, and applied ML coursework'
    ];

    const stopWords = new Set([
      'with', 'that', 'this', 'have', 'from', 'your', 'will', 'into', 'about', 'their', 'they', 'them', 'theyre', 'across', 'also',
      'such', 'including', 'while', 'where', 'what', 'when', 'were', 'youre', 'need', 'needs', 'role', 'team', 'work', 'working'
    ]);

    function extractKeywords(text) {
      const counts = {};
      text
        .toLowerCase()
        .split(/[^a-z0-9+]+/)
        .filter(word => word && word.length > 3 && !stopWords.has(word))
        .forEach(word => {
          counts[word] = (counts[word] || 0) + 1;
        });

      return Object.entries(counts)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 12)
        .map(([word]) => word);
    }

    function selectExperiences(jobDetails) {
      const normalized = jobDetails.toLowerCase();
      const scored = cvExperiences
        .map(experience => ({
          ...experience,
          score: experience.keywords.reduce((acc, keyword) => acc + (normalized.includes(keyword) ? 1 : 0), 0)
        }))
        .sort((a, b) => b.score - a.score);

      const relevant = scored.filter(entry => entry.score > 0);
      return (relevant.length ? relevant : scored).slice(0, 3);
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function buildCvDocument(jobTitle, jobDetails) {
      const keywords = extractKeywords(jobDetails);
      const experiences = selectExperiences(jobDetails);
      const roleTitle = escapeHtml(jobTitle || 'Target role');
      const keywordChips = keywords.slice(0, 10).map(escapeHtml);

      const experienceSections = experiences
        .map(exp => {
          const highlights = exp.highlights.map(point => `<li>${escapeHtml(point)}</li>`).join('');
          return `
            <article class="exp">
              <div class="exp-header">
                <div>
                  <h4>${escapeHtml(exp.role)}</h4>
                  <p class="muted">${escapeHtml(exp.period)}</p>
                </div>
                <p class="tag">${escapeHtml(exp.focus)}</p>
              </div>
              <ul>${highlights}</ul>
            </article>`;
        })
        .join('');

      const skillItems = coreSkills.map(skill => `<li>${escapeHtml(skill)}</li>`).join('');
      const educationItems = educationEntries.map(entry => `<li>${escapeHtml(entry)}</li>`).join('');

      const keywordMarkup = keywordChips.length
        ? `<div class="pill-row">${keywordChips.map(word => `<span class="pill">${word}</span>`).join('')}</div>`
        : '<p class="muted">Keywords will appear here when you include requirements.</p>';

      return `<!doctype html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <title>Kyle E Thomas — Tailored CV for ${roleTitle}</title>
      <style>
        body { font-family: 'Montserrat', system-ui, -apple-system, sans-serif; background: #0b1224; color: #e5e7eb; margin: 0; }
        .page { max-width: 900px; margin: 0 auto; padding: 32px 28px 48px; background: #0f172a; }
        h1 { margin: 0; font-size: 28px; letter-spacing: -0.02em; }
        h2 { margin: 28px 0 12px; font-size: 18px; letter-spacing: -0.01em; }
        h3 { margin: 4px 0; font-size: 16px; }
        h4 { margin: 0; font-size: 15px; }
        p { margin: 6px 0; line-height: 1.6; }
        ul { margin: 8px 0 0 18px; padding: 0; line-height: 1.55; }
        .muted { color: #94a3b8; font-size: 13px; }
        .pill-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
        .pill { background: #111827; border: 1px solid #334155; color: #e5e7eb; padding: 6px 10px; border-radius: 999px; font-size: 12px; }
        .tag { display: inline-block; background: #111827; color: #cbd5e1; border: 1px solid #334155; border-radius: 12px; padding: 6px 10px; font-size: 12px; }
        .grid { display: grid; gap: 14px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
        .skill-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 10px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
        .skill-list li { border: 1px solid #1f2937; background: #0c1426; border-radius: 14px; padding: 12px 14px; }
        .card { border: 1px solid #1f2937; background: #0c1426; border-radius: 14px; padding: 14px 16px; }
        .exp { border: 1px solid #1f2937; border-radius: 14px; padding: 12px 14px; background: #0c1426; }
        .exp-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 12px; }
        .eyebrow { text-transform: uppercase; letter-spacing: 0.08em; font-size: 11px; color: #94a3b8; margin: 0; }
        .header-row { display: flex; justify-content: space-between; align-items: center; gap: 10px; }
        .lead { font-size: 16px; line-height: 1.6; margin-top: 6px; }
        .section { margin-top: 22px; }
      </style>
    </head>
    <body>
      <div class="page">
        <div class="header-row">
          <div>
            <p class="eyebrow">Tailored CV</p>
            <h1>Kyle E Thomas</h1>
            <p class="muted">AI Technical Analyst & Software Engineer — tailored for ${roleTitle}</p>
          </div>
          <div style="text-align: right;">
            <p class="muted">kyle2010thomas@gmail.com</p>
            <p class="muted">github.com/kylethmas · linkedin.com/in/kyleedwardthomas</p>
          </div>
        </div>

        <div class="section">
          <h2>Profile</h2>
          <p class="lead">Tailored for ${roleTitle}: applying AI automation, governance-first delivery, and cloud-native engineering to your priorities.</p>
          <p class="lead">${escapeHtml(cvProfile)}</p>
          ${keywordMarkup}
        </div>

        <div class="section">
          <h2>Key Skills</h2>
          <ul class="skill-list">${skillItems}</ul>
        </div>

        <div class="section">
          <h2>Relevant Experience</h2>
          <div class="grid">${experienceSections}</div>
        </div>

        <div class="section">
          <h2>Education</h2>
          <ul>${educationItems}</ul>
        </div>
      </div>
    </body>
  </html>`;
    }

    function updateStatus(text, tone = 'info') {
      const status = document.getElementById('cv-builder-status');
      if (!status) return;
      status.textContent = text;
      status.className = `status ${tone}`;
    }

    function downloadCv(jobTitle, content) {
      const slug = jobTitle.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '') || 'tailored-cv';
      const fileName = `Kyle-Thomas-${slug}.html`;
      const blob = new Blob([content], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = fileName;
      link.click();
      URL.revokeObjectURL(url);
    }

    function openCvModal() {
      const modal = document.getElementById('cv-modal');
      if (!modal) return;
      modal.hidden = false;
      modal.setAttribute('aria-hidden', 'false');
      modal.classList.add('is-open');
      document.body.classList.add('modal-open');
      updateStatus('');
      const form = document.getElementById('cv-builder-form');
      form?.reset();
      const roleInput = form?.querySelector('input[name="role"]');
      roleInput?.focus();
    }

    function closeCvModal() {
      const modal = document.getElementById('cv-modal');
      if (!modal) return;
      modal.hidden = true;
      modal.setAttribute('aria-hidden', 'true');
      modal.classList.remove('is-open');
      document.body.classList.remove('modal-open');
    }

    function registerCvBuilder() {
      const modal = document.getElementById('cv-modal');
      const trigger = document.getElementById('cv-builder-trigger');
      const closeButton = document.getElementById('cv-modal-close');
      const cancelButton = document.getElementById('cv-modal-cancel');
      const form = document.getElementById('cv-builder-form');

      if (!modal || !trigger || !form) return;

      // Ensure the modal stays closed on initial page load
      closeCvModal();

      trigger.addEventListener('click', openCvModal);
      closeButton?.addEventListener('click', closeCvModal);
      cancelButton?.addEventListener('click', closeCvModal);
      modal.addEventListener('click', event => {
        if (event.target === modal) {
          closeCvModal();
        }
      });

      document.addEventListener('keydown', event => {
        if (event.key === 'Escape' && !modal.hidden) {
          closeCvModal();
        }
      });

      form.addEventListener('submit', event => {
        event.preventDefault();
        const formData = new FormData(form);
        const jobTitle = (formData.get('role') || '').toString().trim();
        const jobDetails = (formData.get('details') || '').toString().trim();

        if (!jobTitle || !jobDetails) {
          updateStatus('Please add the role title and a short description so I can tailor the CV.', 'error');
          return;
        }

        const tailoredCv = buildCvDocument(jobTitle, jobDetails);
        downloadCv(jobTitle, tailoredCv);
        updateStatus('Tailored CV downloaded as an HTML file. You can tweak the requirements and regenerate as needed.', 'success');
      });
    }

    registerCvBuilder();

    const knowledgeBase = [
      {
        id: 'ai-work',
        keywords: ['ai', 'machine learning', 'ml', 'automation', 'governance', 'signal'],
        answer:
          'I design safe, auditable AI agents that automate business-as-usual processes, measure impact, and run on cloud-native platforms with observability and governance built in.'
      },
      {
        id: 'projects-ml',
        keywords: ['project', 'machine learning', 'trading bot', 'monitoring', 'python', 'operator'],
        answer:
          'Recent AI/ML projects include a signal-based Kubernetes operator that cut CPU by up to 76% and memory by 46%, and a Python trading bot with backtesting using Bollinger Bands, RSI and regression.'
      },
      {
        id: 'cloud-devops',
        keywords: ['cloud', 'devops', 'kubernetes', 'terraform', 'cicd', 'observability', 'cost'],
        answer:
          'I build Kubernetes microservices in Go and Java with REST/gRPC APIs, cost-efficient supervision, and strong observability. I work with Terraform, CI/CD pipelines, Docker, Clean Architecture and governance-aligned production readiness.'
      },
      {
        id: 'experience-blackrock',
        keywords: ['blackrock', 'ai', 'automation', 'analyst', 'governance'],
        answer:
          'At BlackRock I design AI agents and workflow automations that streamline BAU tasks by around 7%, aligning every build with governance, risk and control standards to keep AI use explainable and auditable.'
      },
      {
        id: 'experience-hpe',
        keywords: ['hpe', 'hewlett', 'production', 'microservice', 'go', 'react', 'firebase', 'cost'],
        answer:
          'At HPE I delivered a Go microservice with Clean Architecture, REST and gRPC on Kubernetes, focused on cost-efficient operations, plus a React + Firebase incentive web app used by 500+ partners and a global Executive Q&A series.'
      },
      {
        id: 'data-science',
        keywords: ['education', 'university', 'msci', 'kubernetes', 'monitoring'],
        answer:
          'I completed an MSci in Software Engineering (First Class) at the University of Glasgow. My master’s project built a signal-based Kubernetes monitoring operator that consolidated supervision and cut compute overheads.'
      },
      {
        id: 'ai-ethos',
        keywords: ['approach', 'ai mindset', 'mlops', 'responsible'],
        answer:
          'My AI approach is pragmatic: start with measurable goals, validate with data, and integrate with strong engineering practices—versioned experiments, observability, governance alignment and fast feedback loops.'
      },
      {
        id: 'beyond-tech',
        keywords: ['cycling', 'sport', 'beyond'],
        answer:
          'Outside tech I lead an international Scottish cycling squad as Directeur Sportif, balancing race strategy, logistics and athlete wellbeing while staying involved in community and mentoring initiatives.'
      }
    ];

    function scoreAnswer(question) {
      const query = question.toLowerCase();
      let best = { entry: null, score: 0 };

      knowledgeBase.forEach(entry => {
        const score = entry.keywords.reduce((acc, keyword) => acc + (query.includes(keyword) ? 1 : 0), 0);
        if (score > best.score) {
          best = { entry, score };
        }
      });

      return best.entry;
    }

    function appendMessage(role, text) {
      const chatWindow = document.querySelector('.chat-window');
      const message = document.createElement('div');
      message.className = `chat-message ${role === 'bot' ? 'bot' : ''}`;

      const meta = document.createElement('div');
      meta.className = 'chat-meta';
      meta.textContent = role === 'bot' ? 'AI Copilot' : 'You';
      const body = document.createElement('p');
      body.textContent = text;

      message.appendChild(meta);
      message.appendChild(body);
      chatWindow.appendChild(message);
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    function handleQuestion(question) {
      appendMessage('user', question);
      const answer = scoreAnswer(question);

      if (answer) {
        appendMessage('bot', answer.answer);
      } else {
        appendMessage(
          'bot',
          "Here's a quick summary: I engineer Kubernetes microservices with Go/Java, DevOps automation, and applied AI/ML projects. Ask about a project, company, or skill and I'll share more."
        );
      }
    }

    function registerChat() {
      const chatForm = document.querySelector('.chat-input');
      if (!chatForm) return;

      chatForm.addEventListener('submit', event => {
        event.preventDefault();
        const input = event.target.question;
        const value = input.value.trim();
        if (!value) return;
        handleQuestion(value);
        input.value = '';
      });

      document.querySelectorAll('.prompt-chip').forEach(chip => {
        chip.addEventListener('click', () => {
          const prompt = chip.getAttribute('data-prompt');
          handleQuestion(prompt);
        });
      });
    }

    function registerNavigation() {
      const navToggle = document.querySelector('.nav-toggle');
      const nav = document.querySelector('.nav');

      if (!navToggle || !nav) return;

      navToggle.addEventListener('click', () => {
        nav.classList.toggle('open');
        navToggle.classList.toggle('open');
      });

      document.querySelectorAll('.nav a').forEach(link => {
        link.addEventListener('click', () => {
          nav.classList.remove('open');
          navToggle.classList.remove('open');
        });
      });
    }

    function setFooterYear() {
      const yearEl = document.getElementById('year');
      if (yearEl) {
        yearEl.textContent = new Date().getFullYear();
      }
    }

    registerChat();
    registerNavigation();
    setFooterYear();
  </script>
</body>
</html>
